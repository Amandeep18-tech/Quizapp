{% extends "base.html" %}
{% load crispy_forms_tags %}
{% block content %}
<div class="content-section">
  <div class="media">
    <div class="media-body">
      <h2 class="account-heading">{{ user.username }}</h2>
      <p class="text-secondary">Your score {{ user_score }}

        out of {{total_questions}}</p>



      <p class="text-secondary">{{ user.email }}</p>
      <input type="submit" value="Click to get Answers" id="button1" onclick="getanswers();" />

      <br>
      <b id="UserAnswers" style="color:green;"></b>
    </div>
  </div>
</div>


<script>
  function getanswers() {
    document.getElementById("UserAnswers").innerHTML = "";
    var i = 0;
    document.getElementById("UserAnswers").innerHTML = `
          <p>  
          
            {% for answer_given in answer_given %}
              {% if answer_given.user_answer_mcq %}
                {% for mcq in mcq %}
                  {% if answer_given.question.id == mcq.question.id and mcq.correct_answer_mcq == answer_given.user_answer_mcq %}
                    <br>{{answer_given.question }} 
                    <br>Correct Answer
                    <br>Answer:Option {{answer_given.user_answer_mcq}}
                  {% else %}
                    Incorrect Answer
                    <br>You choose Option {{answer_given.user_answer_mcq}}
                    <br>Correct Answer is {{mcq.correct_answer_mcq}}
                  {% endif %}
                {% endfor %}
              {% elif answer_given.user_answer_fill_in_the_blanks %}
                <br>{{answer_given.question }} 
                  <br>Answer:{{answer_given.user_answer_fill_in_the_blanks }}
              {% endif %}
            {% endfor%}
            
            </p>

        `;


  }
</script>
{% endblock content %}